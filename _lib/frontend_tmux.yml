session_name: scotty infinidat
windows:
  - window_name: cmd
    panes:
      - pwd
  - window_name: frontend compilation
    layout: even-horizontal
    panes:
      - python manage.py frontend build --watch
      - python manage.py testserver --no-tmux
  - window_name: celery worker
    panes:
      - .env/bin/celery -A flask_app.tasks worker --loglevel=info
      - .env/bin/celery -A flask_app.tasks shell
  - window_name: database
    panes:
      - pgcli scotty
  - window_name: transporter
    panes:
      - j transporter ;and env RUST_LOG=transporter=debug cargo run example/transporter.conf
  - window_name: redis
    panes:
      - bash -c "cd /tmp/ && rm -rf dump.rdb && exec redis-server"
